C02RP0G1G8WM:optcarrot noah.gibbs$ RUBYOPT="-Ilib -r./tools/shim" ruby-prof bin/optcarrot -- --benchmark examples/Lan_Master.nes
fps: 1.8973563923009664
checksum: 59662
Measure Mode: wall_time
Thread ID: 70134173740700
Fiber ID: 70134178158860
Total: 100.575851
Sort by: self_time

 %self      total      self      wait     child     calls  name
  2.36     13.956     2.374     0.000    11.582      180   Optcarrot::CPU#run
  1.43      2.441     1.442     0.000     0.999  3515380  *Optcarrot::CPU#fetch
  1.42      1.428     1.428     0.000     0.000 10680452   Integer#+
  1.42      2.947     1.426     0.000     1.521   838868   Optcarrot::CPU#branch
  1.32      1.326     1.326     0.000     0.000 11084918   Array#[]
  1.00      1.810     1.008     0.000     0.801   816063   Optcarrot::CPU#zpg
  0.86      0.861     0.861     0.000     0.000  6881030   Integer#[]
  0.82      0.824     0.824     0.000     0.000  6727776   Integer#-
  0.68      1.146     0.683     0.000     0.463   804536   Optcarrot::CPU#_cmp
  0.62      0.622     0.622     0.000     0.000  4602226   Integer#<
  0.60      3.999     0.600     0.000     3.399   856086   Optcarrot::CPU#r_op
  0.53      2.773     0.530     0.000     2.244   132300   Optcarrot::APU::Mixer#sample
  0.52      0.908     0.520     0.000     0.388   132300   Optcarrot::APU::Noise#sample
  0.49      0.492     0.492     0.000     0.000  4108606   Integer#==
  0.47      0.719     0.476     0.000     0.243  2282551   BasicObject#!=
  0.47      3.525     0.472     0.000     3.053   809884   Optcarrot::CPU#_beq
  0.43      0.689     0.429     0.000     0.260   264600   Optcarrot::APU::Pulse#sample
  0.42      0.425     0.425     0.000     0.000  3267275   Integer#&
  0.38      0.384     0.384     0.000     0.000  3146305   Integer#*
  0.36      5.206     0.362     0.000     4.844       61  *Range#each
  0.36      0.359     0.359     0.000     0.000  2790190   Integer#|
  0.26      0.258     0.258     0.000     0.000  1834938   Integer#>=
  0.16      3.088     0.162     0.000     2.926     3893   Optcarrot::APU#proceed
  0.14      0.743     0.143     0.000     0.600    85006   Optcarrot::CPU#do_clock
  0.11      0.156     0.107     0.000     0.048   132300   Optcarrot::APU::Triangle#sample
  0.10      0.102     0.102     0.000     0.000   675732   Integer#/
  0.10      0.139     0.100     0.000     0.039    99331   Array#hash
  0.10      0.312     0.097     0.000     0.215    84291   Optcarrot::APU#clock_dmc
  0.10      0.533     0.096     0.000     0.436    85006   Optcarrot::APU#do_clock
  0.09      0.087     0.087     0.000     0.000   628169   Integer#>>
  0.08      0.080     0.080     0.000     0.000        4   Array#transpose
  0.07      0.068     0.068     0.000     0.000   453173   Integer#>
  0.07      0.207     0.068     0.000     0.139   199853   Hash#[]
  0.07      0.119     0.067     0.000     0.052   132300   Optcarrot::APU::DMC#sample
  0.06      0.065     0.065     0.000     0.000   498976   Array#[]=
  0.06      0.118     0.063     0.000     0.054     2934   Array#each
  0.06      0.061     0.061     0.000     0.000   408862   Integer#<=
  0.06      0.057     0.057     0.000     0.000   408863   Integer#<<
  0.05      0.079     0.054     0.000     0.025    84291   Optcarrot::APU::DMC#clock_dma
  0.05      0.379     0.052     0.000     0.327   102898   Optcarrot::APU#clock_dma
  0.05      0.051     0.051     0.000     0.000   292312   Array#<<
  0.04      0.041     0.041     0.000     0.000   170668   Optcarrot::CPU#current_clock
  0.04      0.039     0.039     0.000     0.000   333822   Kernel#hash
  0.04      0.099     0.039     0.000     0.061    14929   Optcarrot::CPU#abs_reg
  0.03      0.038     0.035     0.000     0.003    84291   Optcarrot::APU::DMC#clock_dac
  0.03      0.062     0.031     0.000     0.031    32193   Optcarrot::CPU#peek16
  0.03      0.268     0.029     0.000     0.239    45596   Optcarrot::CPU#read_write
  0.03     78.395     0.029     0.000    78.366      180   Optcarrot::PPU#vsync
  0.03      0.329     0.029     0.000     0.300    26115   Optcarrot::CPU#abs
  0.03      0.028     0.028     0.000     0.000   181018   Integer#even?
  0.03      0.027     0.027     0.000     0.000   164717   Integer#-@
  0.03      0.026     0.026     0.000     0.000    95232   Array#eql?
  0.02      0.025     0.025     0.000     0.000   195002   Array#length
  0.02      0.936     0.023     0.000     0.912    22471   Optcarrot::CPU#w_op
  0.02      0.035     0.017     0.000     0.018    20314   Optcarrot::CPU#imm
  0.02      0.459     0.017     0.000     0.442     4426   Optcarrot::PPU#poke_2007
  0.01      0.031     0.012     0.000     0.019     4552   Optcarrot::CPU#ind_y
  0.01      0.080     0.012     0.000     0.068    18387   Optcarrot::CPU#_bne
  0.01      0.024     0.012     0.000     0.012     5452   Optcarrot::PPU#make_sure_invariants
  0.01      0.815     0.011     0.000     0.804    17038   Optcarrot::CPU#store_mem
  0.01      0.018     0.010     0.000     0.008     6230   Optcarrot::CPU#_adc
  0.01      1.007     0.010     0.000     0.997    26950   Method#[]
  0.01      0.021     0.009     0.000     0.012    17892   Optcarrot::CPU#update
  0.01      0.201     0.009     0.000     0.192     6509   Optcarrot::PPU#peek_2002
  0.01      0.599     0.009     0.000     0.590    13327   Optcarrot::PPU#update
  0.01      0.802     0.009     0.000     0.794    17465   Optcarrot::CPU#store
  0.01      0.573     0.008     0.000     0.565    13327   Optcarrot::PPU#sync
  0.01     78.887     0.008     0.000    78.879     5452   Optcarrot::PPU#run
  0.01      0.014     0.008     0.000     0.006    10273   Optcarrot::CPU#push8
  0.01      0.014     0.008     0.000     0.006    10269   Optcarrot::CPU#pull8
  0.01      0.042     0.007     0.000     0.035     6392   Optcarrot::CPU#rw_op
  0.01      0.007     0.007     0.000     0.000    25593   Optcarrot::CPU#_lda
  0.01      0.106     0.006     0.000     0.099    14929   Optcarrot::CPU#abs_x
  0.01      0.013     0.006     0.000     0.007     6508   Optcarrot::CPU#_bit
  0.01      0.006     0.006     0.000     0.000    21705   Optcarrot::CPU#_sta
  0.01      0.013     0.006     0.000     0.008     4426   Optcarrot::PPU#update_vram_addr
  0.01      0.037     0.006     0.000     0.031     9421   Optcarrot::CPU#_bpl
  0.01     78.852     0.005    78.847     0.000     5452   Fiber#resume
  0.01      0.008     0.005     0.000     0.003     7346   Optcarrot::CPU#_dex
  0.00      0.009     0.005     0.000     0.004     2976   Optcarrot::CPU#zpg_reg
  0.00      0.006     0.005     0.000     0.002    11825   Optcarrot::CPU#store_zpg
  0.00      0.028     0.005     0.000     0.023     3799   Optcarrot::CPU#_jsr
  0.00      0.023     0.004     0.000     0.018     2260   Optcarrot::PPU#poke_2006
  0.00      0.005     0.004     0.000     0.001     7998   Optcarrot::CPU#_clc
  0.00      0.007     0.004     0.000     0.003     5556   Optcarrot::PPU#update_scroll_address_line
  0.00      0.006     0.004     0.000     0.002     5427   Optcarrot::CPU#_iny
  0.00      0.264     0.004     0.000     0.260     3713   Optcarrot::APU#update
  0.00      0.016     0.004     0.000     0.012     3976   Optcarrot::CPU#push16
  0.00      0.005     0.004     0.000     0.001     4310   Optcarrot::APU::Oscillator#active?
  0.00      0.006     0.004     0.000     0.002       16   Numeric#step
  0.00      0.019     0.003     0.000     0.015     3797   Optcarrot::CPU#_rts
  0.00      0.015     0.003     0.000     0.012     3974   Optcarrot::CPU#pull16
  0.00      0.006     0.003     0.000     0.003     2151   Optcarrot::APU::Envelope#clock
  0.00      0.012     0.003     0.000     0.009     2976   Optcarrot::Pads#peek_401x
  0.00      0.003     0.003     0.000     0.000      543   Array#clear
  0.00      0.003     0.003     0.000     0.000        1   Array#pack
  0.00      0.004     0.003     0.000     0.002     2976   Optcarrot::CPU#_ror
  0.00      0.012     0.003     0.000     0.009     2151   Optcarrot::APU::Oscillator#clock_envelope
  0.00      0.004     0.002     0.000     0.001     3379   Optcarrot::CPU#_dey
  0.00     95.201     0.002     0.000    95.199      180   Optcarrot::NES#step
  0.00      0.019     0.002     0.000     0.017      717   Optcarrot::APU#clock_oscillators
  0.00      0.003     0.002     0.000     0.001     2976   Optcarrot::Pad#peek
  0.00      0.002     0.002     0.000     0.000    14044   Integer#^
  0.00      0.003     0.002     0.000     0.001     4700   Optcarrot::CPU#_and
  0.00      0.004     0.002     0.000     0.002     1488   Optcarrot::Pad#poke
  0.00      0.006     0.002     0.000     0.005     2101   Optcarrot::CPU#_jmp_a
  0.00      0.005     0.001     0.000     0.003     2144   Optcarrot::CPU#_pla
  0.00      0.002     0.001     0.000     0.001     3861   Optcarrot::CPU#_ora
  0.00      0.005     0.001     0.000     0.003     2144   Optcarrot::CPU#_pha
  0.00      0.002     0.001     0.000     0.001     2017   Optcarrot::CPU#_inx
  0.00      0.002     0.001     0.000     0.000     2604   Optcarrot::CPU#_tax
  0.00      0.021     0.001     0.000     0.020      717   Optcarrot::APU#clock_frame_counter
  0.00      0.002     0.001     0.000     0.000     2535   Optcarrot::CPU#_txa
  0.00      0.002     0.001     0.000     0.001     2667   Optcarrot::CPU#_dec
  0.00      0.011     0.001     0.000     0.009     2976   Optcarrot::CPU#zpg_x
  0.00      0.002     0.001     0.000     0.000     1024   Array#uniq!
  0.00      0.004     0.001     0.000     0.003     2160   Optcarrot::APU::Pulse#active?
  0.00      2.839     0.001     0.000     2.838      180   Optcarrot::APU#flush_sound
  0.00      2.841     0.001     0.000     2.840      180   Optcarrot::APU#vsync
  0.00      0.008     0.001     0.000     0.007      522   Optcarrot::APU::Oscillator#poke_2
  0.00      0.184     0.001     0.000     0.183      700   Optcarrot::APU::Oscillator#poke_0
  0.00      0.003     0.001     0.000     0.002      717   Optcarrot::APU::Triangle#clock_linear_counter
  0.00      4.535     0.001     0.000     4.534       17  *Array#map
  0.00      0.001     0.001     0.000     0.000     6407   Integer#~
  0.00      0.003     0.001     0.000     0.002     1248   Optcarrot::APU::Triangle#active?
  0.00      0.001     0.001     0.000     0.000     1567   Optcarrot::CPU#_tya
  0.00      0.001     0.001     0.000     0.000     4393   BasicObject#!
  0.00      0.081     0.001     0.000     0.080      126   Optcarrot::PPU#poke_2000
  0.00      0.001     0.001     0.000     0.000     1992   Optcarrot::APU::Envelope#update_output
  0.00      0.001     0.001     0.000     0.000      744   Optcarrot::Pad#poll_state
  0.00      0.004     0.001     0.000     0.004      177   Optcarrot::CPU#do_isr
  0.00      0.005     0.001     0.000     0.004      744   Optcarrot::Pads#poke_4016
  0.00      0.001     0.001     0.000     0.001      716   Optcarrot::APU::Pulse#clock_sweep
  0.00      0.002     0.001     0.000     0.001      180   Optcarrot::Video#tick
  0.00      0.002     0.001     0.000     0.001      525   Optcarrot::APU::Envelope#write
  0.00      0.002     0.001     0.000     0.001      633   Optcarrot::CPU#a_op
  0.00      0.001     0.001     0.000     0.000     1947   Optcarrot::APU::DMC#update
  0.00      0.002     0.001     0.000     0.001      296   Optcarrot::APU#clock_frame_irq
  0.00      0.001     0.001     0.000     0.000     1411   Optcarrot::CPU#_tay
  0.00      0.001     0.001     0.000     0.000     2517   Optcarrot::CPU#_ldy
  0.00      0.003     0.001     0.000     0.002      177   Optcarrot::CPU#_rti
  0.00      0.002     0.001     0.000     0.001      354   Optcarrot::APU::Pulse#update_freq
  0.00      0.004     0.001     0.000     0.004      179   Optcarrot::APU::Oscillator#poke_3
  0.00      0.026     0.001     0.000     0.025     1107   Hash#[]=
  0.00      0.003     0.001     0.000     0.003      180   Optcarrot::PPU#setup_frame
  0.00      0.002     0.001     0.000     0.002      746   Optcarrot::CPU#_bmi
  0.00      0.180     0.001     0.000     0.180      525   Optcarrot::APU#update_latency
  0.00      0.001     0.001     0.000     0.000      633   Optcarrot::CPU#_asl
  0.00      0.001     0.001     0.000     0.000        2   String#bytes
  0.00      0.001     0.001     0.000     0.001      177   Optcarrot::CPU#flags_pack
  0.00      0.182     0.000     0.000     0.181      350   Optcarrot::APU::Pulse#poke_0
  0.00      0.001     0.000     0.000     0.000      180   Optcarrot::CPU#vsync
  0.00      0.001     0.000     0.000     0.000      749   Optcarrot::CPU#_inc
  0.00      0.001     0.000     0.000     0.000      177   Optcarrot::CPU#flags_unpack
  0.00      0.000     0.000     0.000     0.000      180   Array#concat
  0.00      0.001     0.000     0.000     0.001      243   Optcarrot::APU::DMC#do_dma
  0.00      0.004     0.000     0.000     0.003      175   Optcarrot::APU::Triangle#poke_0
  0.00      0.001     0.000     0.000     0.000      772   Optcarrot::CPU#_eor
  0.00      0.001     0.000     0.000     0.001      348   Optcarrot::APU::Triangle#update_freq
  0.00      0.000     0.000     0.000     0.000     1087   Optcarrot::CPU#_ldx
  0.00      0.000     0.000     0.000     0.000     3072   Kernel#object_id
  0.00      0.002     0.000     0.000     0.002      174   Optcarrot::APU::Noise#poke_2
  0.00      0.002     0.000     0.000     0.002      179   Optcarrot::APU#update_delta
  0.00      0.000     0.000     0.000     0.000      180   <Module::Process>#clock_gettime
  0.00      0.000     0.000     0.000     0.000      296   Optcarrot::CPU#do_irq
  0.00      0.003     0.000     0.000     0.003       11   Hash#each_value
  0.00      0.000     0.000     0.000     0.000      358   Optcarrot::APU::Noise#clock_length_counter
  0.00      0.000     0.000     0.000     0.000      256   Optcarrot::CPU#_cpy
  0.00      0.000     0.000     0.000     0.000      756   Optcarrot::CPU#_sty
  0.00      0.001     0.000     0.000     0.000      243   Optcarrot::CPU#dmc_dma
  0.00      4.556     0.000     0.000     4.556       16  *Kernel#require_relative
  0.00      0.000     0.000     0.000     0.000      358   Optcarrot::APU::Triangle#clock_length_counter
  0.00      0.000     0.000     0.000     0.000      180   Optcarrot::CPU#next_frame_clock=
  0.00      0.000     0.000     0.000     0.000     1536   Array#min
  0.00      0.000     0.000     0.000     0.000     1056   Symbol#==
  0.00      0.000     0.000     0.000     0.000        4   Array#slice!
  0.00      0.000     0.000     0.000     0.000     1536   Float#floor
  0.00      0.001     0.000     0.000     0.001      210   Optcarrot::CPU#_bcc
  0.00      0.000     0.000     0.000     0.000      179   Float#**
  0.00      0.004     0.000     0.000     0.004      174   Optcarrot::APU::Triangle#poke_3
  0.00      0.000     0.000     0.000     0.000      179   Optcarrot::APU::LengthCounter#write
  0.00      0.001     0.000     0.000     0.001       38   Hash#each
  0.00     95.324     0.000     0.000    95.323        1   Optcarrot::NES#run
  0.00      0.001     0.000     0.000     0.001      220   Optcarrot::CPU#_bcs
  0.00      0.000     0.000     0.000     0.000       15   Array#*
  0.00      0.000     0.000     0.000     0.000        1   <Class::IO>#binread
  0.00      0.000     0.000     0.000     0.000      115   Optcarrot::CPU#_sec
  0.00      0.000     0.000     0.000     0.000      541   Integer#%
  0.00      0.000     0.000     0.000     0.000      180   Array#shift
  0.00      0.000     0.000     0.000     0.000      179   Float#/
  0.00      0.000     0.000     0.000     0.000      180   Optcarrot::Audio#tick
  0.00      0.000     0.000     0.000     0.000       32   IO#set_encoding
  0.00      0.000     0.000     0.000     0.000      179   Float#-
  0.00      0.000     0.000     0.000     0.000      180   Optcarrot::ROM#vsync
  0.00      0.000     0.000     0.000     0.000       38   Module#attr_reader
  0.00      0.000     0.000     0.000     0.000      180   Array#last
  0.00      0.000     0.000     0.000     0.000      455   Module#method_added
  0.00      0.000     0.000     0.000     0.000      332   Symbol#to_s
  0.00      0.000     0.000     0.000     0.000      180   Optcarrot::CPU#next_frame_clock
  0.00      0.000     0.000     0.000     0.000      180   Optcarrot::Input#tick
  0.00      0.000     0.000     0.000     0.000      180   Array#first
  0.00      0.000     0.000     0.000     0.000       75   Kernel#method
  0.00      0.164     0.000     0.000     0.164       42   Optcarrot::CPU#add_mappings
  0.00      0.000     0.000     0.000     0.000      218   String#tr
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::APU#reset_mapping
  0.00      0.000     0.000     0.000     0.000      299   Kernel#is_a?
  0.00      0.006     0.000     0.000     0.006        2   Optcarrot::PPU#reset
  0.00      0.000     0.000     0.000     0.000      298   String#==
  0.00      0.000     0.000     0.000     0.000        2   IO#write
  0.00      0.000     0.000     0.000     0.000        1   String#sum
  0.00      0.000     0.000     0.000     0.000        2   Integer#times
  0.00      0.001     0.000     0.000     0.001        9   Optcarrot::Config::Parser#parse_option
  0.00      0.000     0.000     0.000     0.000       26   Optcarrot::CPU#_cpx
  0.00    100.576     0.000     0.000   100.576        2   [global]#[no method]
  0.00      0.000     0.000     0.000     0.000      212   Array#include?
  0.00      0.000     0.000     0.000     0.000        8   Optcarrot::APU::Oscillator#reset
  0.00      0.003     0.000     0.000     0.003        7   Optcarrot::APU#poke_4015
  0.00      0.000     0.000     0.000     0.000      218   String#size
  0.00      0.696     0.000     0.000     0.696        1   Optcarrot::NES#initialize
  0.00      5.097     0.000     0.000     5.097       50  *Enumerable#map
  0.00      0.010     0.000     0.000     0.010        3   Optcarrot::PPU#poke_2001
  0.00      0.003     0.000     0.000     0.003        1   Optcarrot::NES#dispose
  0.00      0.001     0.000     0.000     0.001       86   <Class::Optcarrot::CPU>#op
  0.00      0.000     0.000     0.000     0.000       28   Optcarrot::APU::Oscillator#enable
  0.00      0.089     0.000     0.000     0.089        2   Optcarrot::CPU#reset
  0.00      0.000     0.000     0.000     0.000        2   Optcarrot::APU#reset
  0.00      0.000     0.000     0.000     0.000       12   Optcarrot::CPU#clear_irq
  0.00      0.000     0.000     0.000     0.000       89   String#start_with?
  0.00      0.000     0.000     0.000     0.000        7   Optcarrot::APU::DMC#enable
  0.00      0.004     0.000     0.000     0.004        1   Optcarrot::ROM#initialize
  0.00      0.000     0.000     0.000     0.000      118   Method#hash
  0.00      0.000     0.000     0.000     0.000        1   String#%
  0.00      0.643     0.000     0.000     0.643        1   Optcarrot::PPU#setup_lut
  0.00      0.000     0.000     0.000     0.000      178   NilClass#to_a
  0.00      0.000     0.000     0.000     0.000        2   Optcarrot::APU::Triangle#reset
  0.00      0.000     0.000     0.000     0.000        4   Optcarrot::APU::DMC#poke_0
  0.00      0.000     0.000     0.000     0.000        1   <Class::Struct>#new
  0.00      0.000     0.000     0.000     0.000        6   Optcarrot::APU::Envelope#reset
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::APU#initialize
  0.00      0.045     0.000     0.000     0.045        1   Optcarrot::CPU#initialize
  0.00      0.000     0.000     0.000     0.000        2   Optcarrot::APU#poke_4017
  0.00      0.119     0.000     0.000     0.119        1   Optcarrot::NES#reset
  0.00      0.000     0.000     0.000     0.000       28   Optcarrot::APU::LengthCounter#clock
  0.00      0.000     0.000     0.000     0.000        2   Optcarrot::APU::DMC#reset
  0.00      0.000     0.000     0.000     0.000        4   Optcarrot::APU::Pulse#reset
  0.00      0.000     0.000     0.000     0.000        1   Fiber#initialize
  0.00      0.000     0.000     0.000     0.000       28   Optcarrot::APU::LengthCounter#enable
  0.00      0.004     0.000     0.000     0.004        1   <Class::Optcarrot::ROM>#load
  0.00      0.002     0.000     0.000     0.002        1   Optcarrot::Video#initialize
  0.00      0.643     0.000     0.000     0.643        1   Optcarrot::PPU#initialize
  0.00      0.000     0.000     0.000     0.000       29   Class#inherited
  0.00      0.000     0.000     0.000     0.000        3   Optcarrot::APU::DMC#poke_1
  0.00      0.000     0.000     0.000     0.000       20   Kernel#instance_variable_set
  0.00      0.000     0.000     0.000     0.000        9   String#=~
  0.00      0.000     0.000     0.000     0.000       44   BasicObject#==
  0.00      0.000     0.000     0.000     0.000        3   <Module::Optcarrot::Driver>#load_each
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::ROM#parse_header
  0.00      0.000     0.000     0.000     0.000        2   IO#puts
  0.00      0.000     0.000     0.000     0.000       29   Method#eql?
  0.00      0.000     0.000     0.000     0.000        2   Optcarrot::PPU#poke_2005
  0.00      0.000     0.000     0.000     0.000        4   Optcarrot::APU::Oscillator#initialize
  0.00      0.696     0.000     0.000     0.696       27  *Class#new
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::Pads#reset
  0.00      0.000     0.000     0.000     0.000        1   Float#to_s
  0.00      0.001     0.000     0.000     0.001        1   Optcarrot::Config::Parser#initialize
  0.00      0.000     0.000     0.000     0.000        8   Optcarrot::APU::LengthCounter#reset
  0.00      0.000     0.000     0.000     0.000        2   Optcarrot::APU::Noise#reset
  0.00      0.000     0.000     0.000     0.000        1   Kernel#class
  0.00      0.000     0.000     0.000     0.000        2   Optcarrot::APU::Pulse#poke_1
  0.00      0.000     0.000     0.000     0.000        3   Optcarrot::APU::DMC#poke_2
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::PPU#update_enabled_flags
  0.00      0.000     0.000     0.000     0.000        2   Optcarrot::APU::Pulse#initialize
  0.00      0.000     0.000     0.000     0.000        4   Optcarrot::Config::Parser#parse_operand
  0.00      0.000     0.000     0.000     0.000        4   Optcarrot::APU::Oscillator#update_settings
  0.00      0.001     0.000     0.000     0.001        9   Optcarrot::Config::Parser#find_option
  0.00      0.000     0.000     0.000     0.000        1   Module#attr_writer
  0.00      0.000     0.000     0.000     0.000        3   Optcarrot::APU::Mixer#reset
  0.00      0.000     0.000     0.000     0.000       12   BasicObject#singleton_method_added
  0.00      0.000     0.000     0.000     0.000        2   Kernel#puts
  0.00      0.000     0.000     0.000     0.000        2   Optcarrot::PPU#update_output_color
  0.00      0.000     0.000     0.000     0.000        1   Module#attr_accessor
  0.00      0.000     0.000     0.000     0.000        9   String#split
  0.00      0.000     0.000     0.000     0.000       28   Hash#key?
  0.00      0.000     0.000     0.000     0.000        4   Optcarrot::APU::Pulse#poke_3
  0.00      0.002     0.000     0.000     0.002        1   <Module::Optcarrot::Driver>#load
  0.00      0.000     0.000     0.000     0.000        2   Kernel#dup
  0.00      0.000     0.000     0.000     0.000        2   Module#append_features
  0.00      0.000     0.000     0.000     0.000        1   <Class::File>#basename
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::PPU#nametables=
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::Pads#initialize
  0.00      0.000     0.000     0.000     0.000        3   Optcarrot::APU::DMC#poke_3
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::Audio#initialize
  0.00      0.006     0.000     0.000     0.006        8   Enumerator#each
  0.00      0.000     0.000     0.000     0.000       10   Optcarrot::CPU#_stx
  0.00      0.000     0.000     0.000     0.000        1   Hash#merge
  0.00      0.000     0.000     0.000     0.000        1   Integer#to_s
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::CPU#boot
  0.00      0.000     0.000     0.000     0.000        2   Array#fill
  0.00      0.000     0.000     0.000     0.000        5   Optcarrot::APU::Envelope#reset_clock
  0.00      0.069     0.000     0.000     0.069        1   Optcarrot::ROM#reset
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::APU::Triangle#initialize
  0.00      0.000     0.000     0.000     0.000        3   Enumerable#to_a
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::CPU#_txs
  0.00      0.000     0.000     0.000     0.000        4   BasicObject#equal?
  0.00      0.000     0.000     0.000     0.000        2   Optcarrot::CPU#odd_clock?
  0.00      0.000     0.000     0.000     0.000        2   Optcarrot::Pad#initialize
  0.00      0.000     0.000     0.000     0.000        3   Module#const_get
  0.00      0.000     0.000     0.000     0.000        1   Kernel#freeze
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::PPU#set_chr_mem
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::APU::Mixer#initialize
  0.00      0.001     0.000     0.000     0.001        1   Optcarrot::Config#initialize
  0.00      0.000     0.000     0.000     0.000        2   Module#module_function
  0.00      0.000     0.000     0.000     0.000        1   Array#==
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::Audio#spec
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::APU::DMC#initialize
  0.00      0.000     0.000     0.000     0.000        1   Hash#initialize_copy
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::Video#dispose
  0.00      0.000     0.000     0.000     0.000        1   Kernel#Integer
  0.00      0.000     0.000     0.000     0.000       10   Array#empty?
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::ROM#save_battery
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::Config#info
  0.00      0.000     0.000     0.000     0.000        1   Array#max
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::APU::Noise#initialize
  0.00      0.000     0.000     0.000     0.000        7   BasicObject#initialize
  0.00      0.000     0.000     0.000     0.000        2   Hash#fetch
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::Input#init
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::Input#initialize
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::Video#init
  0.00      0.000     0.000     0.000     0.000        1   <Class::File>#extname
  0.00      0.002     0.000     0.000     0.002        1   Enumerable#flat_map
  0.00      0.000     0.000     0.000     0.000        3   Optcarrot::Config#debug
  0.00      0.000     0.000     0.000     0.000        3   String#to_sym
  0.00      0.000     0.000     0.000     0.000        2   Array#unshift
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::ROM#init
  0.00      0.000     0.000     0.000     0.000        1   Enumerable#all?
  0.00      0.000     0.000     0.000     0.000        2   Kernel#initialize_dup
  0.00      0.000     0.000     0.000     0.000        4   Optcarrot::Pad#reset
  0.00      0.000     0.000     0.000     0.000        3   Hash#keys
  0.00      0.000     0.000     0.000     0.000        2   Module#included
  0.00      0.000     0.000     0.000     0.000        1   Array#rotate!
  0.00      0.002     0.000     0.000     0.002        1   <Module::Optcarrot::Palette>#defacto_palette
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::CPU#_sei
  0.00      0.000     0.000     0.000     0.000        1   Array#+
  0.00      0.000     0.000     0.000     0.000        1   Hash#compare_by_identity
  0.00      0.000     0.000     0.000     0.000        1   Array#initialize_copy
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::Audio#dispose
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::Audio#init
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::Input#dispose
  0.00      0.000     0.000     0.000     0.000        1   Module#==
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::ROM#load_battery
  0.00      0.000     0.000     0.000     0.000        1   Array#reverse
  0.00      0.000     0.000     0.000     0.000        2   Module#include

* indicates recursively called methods
Measure Mode: wall_time
Thread ID: 70134173740700
Fiber ID: 70134220087020
Total: 95.125293
Sort by: self_time

 %self      total      self      wait     child     calls  name
 19.02     76.871    18.092     0.000    58.779    86278   Numeric#step
 11.13     16.723    10.584     0.000     6.139 10997760   Optcarrot::PPU#render_pixel
  7.59     10.835     7.223     0.000     3.612 13234902   Optcarrot::PPU#wait_one_clock
  4.59      4.364     4.364     0.000     0.000 33197881   Array#[]
  3.99      3.800     3.800     0.000     0.000 28029482   Integer#+
  3.42      5.142     3.255     0.000     1.887  2679680   Optcarrot::PPU#evaluate_sprites_odd_phase_1
  3.05      9.205     2.897     0.000     6.308  4019592   Optcarrot::PPU#evaluate_sprites_odd
  2.21      2.101     2.101     0.000     0.000 16675332   Integer#<=
  2.15      2.948     2.047     0.000     0.901  3545240   Optcarrot::PPU#open_pattern
  1.99      2.413     1.896     0.000     0.517  4019591   Optcarrot::PPU#evaluate_sprites_even
  1.97      1.871     1.871     0.000     0.000  7147593   Optcarrot::PPU#update_address_line
  1.80      1.715     1.715     0.000     0.000 11864340   Integer#==
  1.77      1.682     1.682     0.000     0.000 10997760   Array#<<
  1.64      1.556     1.556     0.000     0.000 10997760   Integer#%
  1.64      1.556     1.556     0.000     0.000 11053831   Integer#>=
  1.54      2.455     1.468     0.000     0.987  1776976   Optcarrot::PPU#open_attr
  1.41      1.992     1.337     0.000     0.655  1426136   Optcarrot::PPU#scroll_clock_x
  1.19      1.624     1.136     0.000     0.488  1863253   Optcarrot::PPU#open_name
  1.17      1.810     1.113     0.000     0.697  1339857   Optcarrot::PPU#load_tiles
  1.16      1.860     1.103     0.000     0.757  1426136   Optcarrot::PPU#fetch_bg_pattern_1
  0.96      1.507     0.914     0.000     0.593  1426136   Optcarrot::PPU#fetch_name
  0.86      1.216     0.818     0.000     0.398  1426136   Optcarrot::PPU#fetch_bg_pattern_0
  0.84      0.799     0.799     0.000     0.000  1297987   Optcarrot::PPU#update_enabled_flags
  0.71     95.125     0.673     0.000    94.452        1   Optcarrot::PPU#main_loop
  0.69      0.654     0.654     0.000     0.000  4770719   Integer#&
  0.62      0.960     0.588     0.000     0.372  1339840   Optcarrot::PPU#evaluate_sprites_odd_phase_9
  0.54      0.512     0.512     0.000     0.000  1426136   Optcarrot::PPU#fetch_attr
  0.49      0.464     0.464     0.000     0.000  3410627   Integer#|
  0.42      0.614     0.404     0.000     0.209  1466738   BasicObject#!=
  0.39      0.572     0.373     0.000     0.200   672861   Optcarrot::PPU#wait_two_clocks
  0.34      0.322     0.322     0.000     0.000  1660799   Array#[]=
  0.33      0.311     0.311     0.000     0.000  2136016   Integer#<
  0.25      0.242     0.242     0.000     0.000  1339857   Optcarrot::PPU#batch_render_eight_pixels
  0.25      0.238     0.238     0.000     0.000  1339857   Array#rotate!
  0.20      0.192     0.192     0.000     0.000  1423948   Integer#*
  0.16      0.156     0.156     0.000     0.000  1005082   Integer#/
  0.15      0.147     0.147     0.000     0.000  1047993   Integer#-
  0.07      0.120     0.066     0.000     0.055    41871   Optcarrot::PPU#scroll_clock_y
  0.06      0.104     0.059     0.000     0.044    42960   Optcarrot::PPU#scroll_reset_x
  0.03      0.044     0.029     0.000     0.015    43139   Optcarrot::PPU#preload_tiles
  0.03      0.026     0.026     0.000     0.000    43135   Optcarrot::PPU#update_enabled_flags_edge
  0.02      0.031     0.024     0.000     0.007    43139   Optcarrot::PPU#load_extended_sprites
  0.02      0.028     0.017     0.000     0.010    44929   Optcarrot::PPU#wait_zero_clocks
  0.02      0.017     0.017     0.000     0.000    83914   Integer#^
  0.01     16.284     0.006    16.279     0.000     5452   <Class::Fiber>#yield
  0.00      0.002     0.001     0.000     0.001      179   Optcarrot::PPU#vblank_2
  0.00     15.919     0.000     0.000    15.919      180   Optcarrot::PPU#wait_frame
  0.00      0.000     0.000     0.000     0.000      179   Optcarrot::PPU#vblank_1
  0.00      0.000     0.000     0.000     0.000      178   Optcarrot::CPU#next_interrupt_clock
  0.00      0.001     0.000     0.000     0.001      178   Optcarrot::CPU#do_nmi
  0.00      0.000     0.000     0.000     0.000      178   Optcarrot::CPU#next_frame_clock
  0.00      0.000     0.000     0.000     0.000      179   Optcarrot::PPU#vblank_0
  0.00      0.000     0.000     0.000     0.000       87   Optcarrot::CPU#next_frame_clock=
  0.00      0.000     0.000     0.000     0.000      174   BasicObject#!
  0.00      0.000     0.000     0.000     0.000      178   Integer#>
  0.00     95.125     0.000     0.000    95.125        1   Optcarrot::PPU#run
  0.00      0.000     0.000     0.000     0.000        1   Optcarrot::PPU#boot

* indicates recursively called methods
